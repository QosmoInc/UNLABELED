# Configuration for Unity Person Detection Patch Training
# This configuration uses Unity-generated synthetic data for patch training

trainer:
  type: UnityPatchTrainer

dataset:
  type: unity
  img_dir: train_data_0
  lab_dir: train_data_0  # Unity stores labels in same dir
  max_labels: 14

model:
  cfgfile: cfg/yolov2.cfg
  weightfile: weights/yolov2.weights

patch:
  size: 600
  name: unity_person_patch
  initial_type: image
  initial_image: imgs/AF_patch_mayuu_01.jpg
  style_image: imgs/AF_patch_mayuu_01.jpg
  content_image: imgs/AF_patch_mayuu_01.jpg

training:
  batch_size: 4
  epochs: 10000
  learning_rate: 0.03
  num_workers: 0  # Unity dataset doesn't support multiprocessing well
  seed: 42  # Random seed for reproducibility (set to null for non-deterministic training)

losses:
  detection_weight: 1.0
  adain_weight: 0.001
  content_weight: 0.0
  tv_weight: 0.0
  tv_max: 0.165

target:
  class_id: 0  # person class in COCO dataset
  objective: minimize

wandb:
  enabled: true
  project: adversarial-patch
  tags:
    - person-detection
    - unity-dataset
  notes: Training adversarial patch for person detection using Unity synthetic data

logging:
  level: INFO           # Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
  console: true         # Enable console output
  file: false           # Enable file logging
  log_dir: logs         # Directory for log files (when file=true)
